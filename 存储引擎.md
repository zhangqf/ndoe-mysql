# 存储引擎

##MyISAM
    mysql的默认存储引擎。不支持事务、外键。优势时访问速度快。
    每个myISAM在磁盘上存储成3个文件，其文件名和表名相同，但扩展名分别是：
    1、 .fm(存储表定义)；
    2、 .MYD(MYData，存储数据)；
    3、 .MYI(MYIndex，存储索引)。
    MyISAM的表又支持3种不同的存储格式
    1、 静态（固定长度）表；默认存储格式 字段都是非变长字段，每个记录都是固定长度 优点是存储非常迅速，容易缓存，
        出现故障容易恢复；缺点是占用的空间通常比动态表多。静态表存储时会按照列的宽度定义补足空格，应用程序访问时并不会
        得到这些空格，它在返回给应用之前已经去掉了。
    2、 动态表；包含变长字段，记录不是固定长度的，优点是占用空间相对较少，但是频繁的更新删除记录会产生碎片 出现故障
        恢复时相对困难。
    3、 压缩表。压缩表由 myisampack 工具创建，占据非常小的磁盘空间，每个记录被单独压缩 只有非常小的访问开支。

## InnoDB
    InnoDB存储引擎提供了具有提交、回滚和崩溃恢复能力的事务安全。相比myisam innodb写的处理效率差一些并且会占用更多的磁盘空间以保留索引和数据
    
> 特点：
>  
>  1、自动增长列，插入 0或者空都将是自动增长后的值 对于 InnoDB 表，自动增长列必须是索引 如果是组合索引，也必须是组合索引的第一
   列。对于 MyISAM 表，自动增长列可以是组合索引的其他列，这样插入记录后，自动增长列是按照组合索引的前面几列进行排序后递增的

+  组合索引？
>  2、外键约束
>> 支持外键的存储引擎只有InnoDB,在创建外键时，要求父表必须有对应的索引，子表在创建外键的时候会自动创建对应的索引。
>> 
>>CONSTRAINT 定义外键名称
>> 
>> SHOW TABLES STATUS 或 show create table 命令查看外键信息。
>>
+  外键约束？
> 存储方式
>
>>1、使用共享表空间存储
>>>这种方式创建的表的表结构保存在.frm 文件中数据和索引保存在 innodb_data_home_dir 和 innodb_data_file_path 定义的表空间中，可以是
 多个文件。
>>
>>2、使用多表空间存储
>>>使用多表空间存储，这种方式创建的表的表结构仍然保存在.frm 文件中，但是每个
   表的数据和索引单独保存在.ibd 中。如果是个分区表，则每个分区对应单独的.ibd
   文件，文件名是“表名+分区名”，可以在创建分区的时候指定每个分区的数据文件
   的位置，以此来将表的 IO 均匀分布在多个磁盘上。


## MEMORY
    MEMORY存储引擎使用存在内存中的内容来创建表。每个MEMORY表只实际对应一个磁盘文件，格式时.frm。MEMORY类型的表访问非常快，
    因为它的数据是放在内存中的，并且默认使用HASH索引， 但是一旦服务关闭，表中的数据就会丢失掉。
    
    

## 选择合适的引擎
    MyISAM:默认的mysql插件时存储引擎。应用以读操作和插入操作为主，只有很少的跟新和删除操作，并且对事务的完整性、并发性要求不是很高。
    InnoDB:用于事务处理应用程序，支持外键。应用对事务的完整性有比较高的要求，在并发条件下要求数据一致性，数据操作除了插入和查询外，还包括
    很多更新、删除操作。 InnoDB存储引擎除了有效地降低由于删除和更新导致的锁定，还可以确保事务的完整提交和回滚。
    MEMORY:将所有数据保存在RAM中，在需要快速定位记录和其他类似数据的环境下，可提供极快的访问。MEMORY 的缺陷是对表的大小有限制，太大的表
    无法 CACHE 在内存中，其次是要确保表的数据可以恢复，数据库异常终止后表中的数据是可以恢复的。MEMORY 表通常用于更新不太频繁的小表，用
    以快速得到访问结果。
    MERGE:用于将一系列等同的MyISAM表以逻辑方式组合在一起。并作为一个对象引用它们。MERGE 表的优点在于可以突破对单个 MyISAM 表大小的限
    制，并且通过将不同的表分布在多个磁盘上，可以有效地改善MERGE表的访问效率。这对于诸如数据仓储等VLDB环境十分适合。

